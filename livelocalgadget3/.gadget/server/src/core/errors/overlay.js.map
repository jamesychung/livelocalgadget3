{"version":3,"sources":["../overlay.ts"],"sourceRoot":"","sourcesContent":["export const ErrorIconUrl: string = `data:image/svg+xml;base64,${btoa(`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M5.41064 6.25811L5.41118 6.25864L7.15259 8.00006L5.41083 9.74182C5.35361 9.79696 5.30791 9.86291 5.27638 9.93586C5.24471 10.0091 5.22798 10.088 5.22717 10.1678C5.22636 10.2476 5.24148 10.3268 5.27165 10.4007C5.30183 10.4746 5.34644 10.5418 5.40289 10.5982C5.45933 10.6547 5.52647 10.6993 5.60038 10.7295C5.67428 10.7596 5.75346 10.7747 5.83329 10.7739C5.91311 10.7731 5.99197 10.7564 6.06524 10.7247C6.13819 10.6932 6.20414 10.6475 6.25928 10.5903L8.00104 8.84852L9.74281 10.5903C9.79794 10.6475 9.86389 10.6932 9.93684 10.7247C10.0101 10.7564 10.089 10.7731 10.1688 10.7739C10.2486 10.7747 10.3278 10.7596 10.4017 10.7295C10.4756 10.6993 10.5427 10.6547 10.5992 10.5982C10.6556 10.5418 10.7003 10.4746 10.7304 10.4007C10.7606 10.3268 10.7757 10.2476 10.7749 10.1678C10.7741 10.088 10.7574 10.0091 10.7257 9.93586C10.6942 9.86292 10.6485 9.79696 10.5913 9.74183L8.84949 8.00006L10.5913 6.2583C10.6781 6.17466 10.7377 6.06681 10.7623 5.94878C10.7871 5.8304 10.7754 5.70731 10.729 5.59566C10.6825 5.484 10.6034 5.38898 10.502 5.32307C10.4006 5.25715 10.2817 5.22341 10.1608 5.22626C10.0027 5.23 9.85248 5.29599 9.7428 5.40986L8.00104 7.15161L6.25963 5.41022L6.25908 5.40965C6.20327 5.35233 6.13655 5.30674 6.06285 5.27557C5.98891 5.2443 5.90945 5.22819 5.82917 5.22819H5.82914C5.70974 5.22822 5.59305 5.26387 5.49402 5.33059C5.39499 5.3973 5.31812 5.49205 5.27324 5.6027C5.22836 5.71335 5.21751 5.83488 5.24208 5.95173C5.2666 6.06833 5.32528 6.17499 5.41064 6.25811ZM8.00104 1.2334C4.26983 1.2334 1.23438 4.26886 1.23438 8.00006C1.23438 11.7313 4.26983 14.7667 8.00104 14.7667C11.7322 14.7667 14.7677 11.7313 14.7677 8.00006C14.7677 4.26886 11.7322 1.2334 8.00104 1.2334ZM8.00104 2.4334C11.0814 2.4334 13.5677 4.91976 13.5677 8.00006C13.5677 11.0804 11.0814 13.5667 8.00104 13.5667C4.92073 13.5667 2.43437 11.0804 2.43437 8.00006C2.43437 4.91976 4.92073 2.4334 8.00104 2.4334Z\"\n    fill=\"#B13325\"\n  />\n</svg>`)}`;\n\nexport const FixIconUrl: string = `data:image/svg+xml;base64,${btoa(`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.10652 4.73038L8.62652 2.12158C8.59926 1.97547 8.52095 1.8435 8.40662 1.74853C8.2923 1.65355 8.14835 1.60156 7.99972 1.60156C7.85109 1.60156 7.70715 1.65355 7.59281 1.74853C7.47849 1.8435 7.40098 1.97547 7.37372 2.12158L6.89212 4.73038C6.79939 5.25503 6.55298 5.74034 6.18412 6.12478L6.15292 6.15358C5.76457 6.5392 5.26777 6.79709 4.72892 6.89278L2.12092 7.37518C1.97527 7.40286 1.84384 7.4805 1.7493 7.5947C1.65476 7.70891 1.60302 7.85252 1.60302 8.00078C1.60302 8.14904 1.65476 8.29265 1.7493 8.40685C1.84384 8.52106 1.97527 8.5987 2.12092 8.62638L4.72892 9.10718C5.29132 9.21118 5.78092 9.47038 6.15612 9.84638C6.52892 10.2184 6.78813 10.708 6.89212 11.2696L7.37452 13.8784C7.4022 14.024 7.47984 14.1555 7.59404 14.25C7.70825 14.3445 7.85186 14.3963 8.00012 14.3963C8.14838 14.3963 8.29199 14.3445 8.40619 14.25C8.5204 14.1555 8.59803 14.024 8.62572 13.8784L9.10652 11.2696C9.21052 10.7096 9.47132 10.2208 9.84572 9.84318C10.2344 9.45852 10.7312 9.20173 11.2698 9.10718L13.8778 8.62638C14.0239 8.59912 14.1558 8.52162 14.2508 8.40729C14.3458 8.29296 14.3978 8.14901 14.3978 8.00038C14.3978 7.85175 14.3458 7.7078 14.2508 7.59347C14.1558 7.47914 14.0239 7.40164 13.8778 7.37438L11.2698 6.89198C10.7311 6.79617 10.2344 6.53861 9.84572 6.15358C9.46031 5.76508 9.20245 5.26915 9.10652 4.73038ZM12.317 2.27198C12.3626 1.67678 13.2362 1.67678 13.2818 2.27198C13.3002 2.51038 13.4898 2.69918 13.7274 2.71758C14.3226 2.76318 14.3226 3.63678 13.7274 3.68238C13.6121 3.69121 13.5038 3.74099 13.4221 3.82272C13.3404 3.90445 13.2906 4.01273 13.2818 4.12798C13.2362 4.72318 12.3626 4.72318 12.317 4.12798C12.3081 4.01273 12.2583 3.90445 12.1766 3.82272C12.0949 3.74099 11.9866 3.69121 11.8714 3.68238C11.2762 3.63678 11.2762 2.76318 11.8714 2.71758C11.9866 2.70875 12.0949 2.65896 12.1766 2.57723C12.2583 2.4955 12.3081 2.38722 12.317 2.27198ZM3.54172 12.356C3.49052 11.6864 2.50812 11.6864 2.45692 12.356C2.44714 12.4858 2.39115 12.6077 2.29912 12.6998C2.20709 12.7918 2.08511 12.8478 1.95532 12.8576C1.28573 12.9088 1.28573 13.8912 1.95532 13.9424C2.08511 13.9522 2.20709 14.0081 2.29912 14.1002C2.39115 14.1922 2.44714 14.3142 2.45692 14.444C2.50812 15.1136 3.49052 15.1136 3.54172 14.444C3.55149 14.3142 3.60748 14.1922 3.69951 14.1002C3.79155 14.0081 3.91354 13.9522 4.04332 13.9424C4.71292 13.8912 4.71292 12.9088 4.04332 12.8576C3.91354 12.8478 3.79155 12.7918 3.69951 12.6998C3.60748 12.6077 3.55149 12.4858 3.54172 12.356Z\" fill=\"url(#paint0_radial_793_63460)\"/>\n  <defs>\n    <radialGradient id=\"paint0_radial_793_63460\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"translate(1.49927 7.99998) rotate(47.227) scale(9.46284 9.1792)\">\n      <stop offset=\"0.015\" stop-color=\"#A259FF\"/>\n      <stop offset=\"1\" stop-color=\"#FF597D\"/>\n    </radialGradient>\n  </defs>\n</svg>`)}`;\n\nexport const CopyIconUrl: string = `data:image/svg+xml;base64,${btoa(`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    d=\"M5.13385 1.31567C4.61819 1.31567 4.20052 1.73334 4.20052 2.24901V9.71567C4.20052 10.2313 4.61819 10.649 5.13385 10.649H11.2005C11.7162 10.649 12.1339 10.2313 12.1339 9.71567V4.34901C12.1339 4.22534 12.0849 4.10679 11.9971 4.01906L9.43047 1.45239C9.34274 1.36466 9.22419 1.31567 9.10052 1.31567H5.13385ZM8.86719 2.20435L11.2452 4.58234H9.33385C9.07625 4.58234 8.86719 4.37327 8.86719 4.11567V2.20435ZM2.80052 3.64901C2.28485 3.64901 1.86719 4.06667 1.86719 4.58234V12.049C1.86719 12.5647 2.28485 12.9823 2.80052 12.9823H8.86719C9.38285 12.9823 9.80052 12.5647 9.80052 12.049V11.5823H5.13385C4.10439 11.5823 3.26719 10.7451 3.26719 9.71567V3.64901H2.80052Z\"\n    fill=\"black\"\n  />\n</svg>`)}`;\n\nexport const ChevronRightIconUrl: string = `data:image/svg+xml;base64,${btoa(`<svg width=\"16\" height=\"17\" viewBox=\"0 0 16 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62439 2.45284C5.52986 2.41298 5.4283 2.39248 5.32572 2.39258C5.17327 2.39277 5.0243 2.4384 4.89791 2.52364C4.77152 2.60888 4.67341 2.72987 4.61611 2.87114C4.55882 3.01242 4.54493 3.16756 4.57624 3.31676C4.6075 3.46573 4.68239 3.60203 4.79137 3.70828L9.58217 8.49909L4.79161 13.2897C4.71838 13.3602 4.6599 13.4445 4.61957 13.5378C4.5791 13.6315 4.55772 13.7322 4.55668 13.8342C4.55564 13.9362 4.57497 14.0374 4.61352 14.1318C4.65208 14.2263 4.70909 14.3121 4.78121 14.3842C4.85334 14.4563 4.93913 14.5133 5.03357 14.5519C5.128 14.5904 5.22918 14.6098 5.33118 14.6087C5.43317 14.6077 5.53394 14.5863 5.62757 14.5458C5.72087 14.5055 5.80522 14.447 5.87572 14.3738L11.2084 9.04114C11.3521 8.89736 11.4328 8.70238 11.4328 8.49909C11.4328 8.29579 11.3521 8.10081 11.2084 7.95702L5.8755 2.62416C5.80407 2.55087 5.71869 2.49262 5.62439 2.45284Z\" fill=\"#6F6C71\"/>\n</svg>`)}`;\n\nexport const InconsolataFont = /* css */ `\n:root {\n  --inconsolata: Gadget-Inconsolata-Private, sans-serif;\n  font-family: var(--inconsolata);\n}\n  /* vietnamese */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 400;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyxq15IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323,\n    U+0329, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 400;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyx615IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F,\n    U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 400;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyya15IDhunA.woff2) format(\"woff2\");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122,\n    U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n/* vietnamese */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 500;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyxq15IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323,\n    U+0329, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 500;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyx615IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F,\n    U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 500;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyya15IDhunA.woff2) format(\"woff2\");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122,\n    U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n/* vietnamese */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 600;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyxq15IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323,\n    U+0329, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 600;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyx615IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F,\n    U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 600;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyya15IDhunA.woff2) format(\"woff2\");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122,\n    U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n/* vietnamese */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 700;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyxq15IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323,\n    U+0329, U+1EA0-1EF9, U+20AB;\n}\n/* latin-ext */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 700;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyx615IDhunJ_o.woff2) format(\"woff2\");\n  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F,\n    U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;\n}\n/* latin */\n@font-face {\n  font-family: \"Gadget-Inconsolata-Private\";\n  font-style: normal;\n  font-weight: 700;\n  font-stretch: 100%;\n  font-display: swap;\n  src: url(https://fonts.gstatic.com/s/inconsolata/v32/QlddNThLqRwH-OJ1UHjlKENVzkWGVkL3GZQmAwLyya15IDhunA.woff2) format(\"woff2\");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122,\n    U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n`;\n\ninterface BackendErrorOverlay {\n  style: \"backendError\";\n  errorMessage: string;\n  traceId: string;\n  traceIdLogLink: string;\n  environmentSlug: string;\n  environmentId: string;\n}\n\ninterface ViteFrontendOverlay {\n  style: \"viteFrontend\";\n}\n\ninterface RR7Overlay {\n  style: \"rr7Frontend\";\n  errorMessage: string;\n  stackTrace?: string;\n  environmentSlug: string;\n}\n\ntype Overlay = BackendErrorOverlay | ViteFrontendOverlay | RR7Overlay;\n\nconst baseStyle = /* css */ `\n\ngadget-dev-harness {\n  display: none;\n}\n\n.window {\n  font-family: var(--inconsolata);\n  line-height: 1.5;\n  max-width: 80vw;\n  box-sizing: border-box;\n  margin: 30px auto;\n  position: relative;\n  border-radius: 6px 6px 8px 8px;\n  box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);\n  overflow: hidden;\n  direction: ltr;\n  text-align: left;\n  outline: 1px #db3927 solid;\n  outline-offset: -1px;\n}\n\n.error-overlay {\n  font-family: var(--inconsolata);\n  width: 100%;\n  background: white;\n  overflow: hidden;\n  border-radius: 8px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 16px;\n  display: inline-flex;\n}\n\n.error-container {\n  align-self: stretch;\n  background: white;\n  overflow: hidden;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  display: flex;\n}\n\n.error-content {\n  align-self: stretch;\n  padding: 12px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 12px;\n  display: flex;\n  max-height: 90vh;\n  overflow: auto;\n}\n\n.error-header {\n  align-self: stretch;\n  position: relative;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 10px;\n  display: flex;\n}\n\n.error-title-row {\n  align-self: stretch;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 8px;\n  display: inline-flex;\n}\n\n.error-icon-wrapper {\n  padding-top: 2px;\n  padding-bottom: 2px;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 10px;\n  display: flex;\n}\n\n.error-title pre {\n  margin: 0;\n  white-space: pre-wrap;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  color: inherit;\n}\n\n.error-icon {\n  width: 16px;\n  height: 16px;\n  position: relative;\n  overflow: hidden;\n}\n\n.error-details {\n  align-self: stretch;\n  background: #f6f6f6;\n  border-radius: 8px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  display: flex;\n}\n\n.error-details-content {\n  align-self: stretch;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  display: flex;\n}\n\n.error-file-path {\n  align-self: stretch;\n  color: #2d53b1;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  word-wrap: break-word;\n  cursor: pointer;\n}\n\n.error-file-path:hover {\n  text-decoration: underline;\n}\n\n.error-message {\n  align-self: stretch;\n  color: black;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  word-wrap: break-word;\n}\n\n.error-stack {\n  align-self: stretch;\n  padding: 8px 12px;\n  overflow: hidden;\n  border-radius: 8px;\n  outline: 1px #cbcbcb solid;\n  outline-offset: -1px;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 12px;\n  display: inline-flex;\n}\n\n.error-stack-content {\n  flex: 1 1 0;\n  align-self: stretch;\n  color: #545454;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n  word-wrap: break-word;\n}\n\n.standard-button{\n  height: 24px;\n  display: inline-flex;\n  padding: var(--scale-scale200, 6px);\n  justify-content: center;\n  align-items: center;\n  gap: var(--scale-scale300, 8px);\n  border-radius: var(--radius-button-radius, 6px);\n  border: 1px solid var(--gray-gray300, #CBCBCB);\n  background: var(--neutral-Background, #FFF);\n  box-shadow: 0px -1px 0px 0px rgba(0, 0, 0, 0.24) inset, 0px 1px 1px 0px rgba(0, 0, 0, 0.16);\n}\n.standard-button:hover{\n  border: 1px solid var(--gray-gray300, #CBCBCB);\n  background: var(--gray-gray50, #F6F6F6);\n}\n.standard-button:active:not(:disabled){\n  border: 1px solid var(--gray-gray200, #E2E2E2);\n  background: var(--gray-gray50, #F6F6F6);\n  box-shadow: -1px 0px 1px 0px rgba(0, 0, 0, 0.08) inset, 1px 0px 1px 0px rgba(0, 0, 0, 0.08) inset, 0px 2px 2px 0px rgba(0, 0, 0, 0.16) inset;\n}\n\n.error-fix-button {\n  display: inline-flex;\n  height: 24px;\n  padding: 4px 8px 4px 6px;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  flex-shrink: 0;\n  border-radius: var(--radius-button-radius, 6px);\n  border: 1px solid #C99EFF;\n  background: #FFF;\n  box-shadow: 0px -1px 0px 0px rgba(0, 0, 0, 0.24) inset, 0px 1px 1px 0px rgba(0, 0, 0, 0.16);\n  cursor: pointer;\n  margin-left: auto;\n}\n\n.error-fix-button:hover {\n  border: 1px solid #E786B2;\n  background: #FBF5F8;\n}\n\n.error-fix-button:active:not(:disabled){\n  transform: translateY(1px);\n  border: 1px solid #FBDBE9;\n  background: #FBF5F8;\n  box-shadow: -1px 0px 1px 0px rgba(0, 0, 0, 0.08) inset, 1px 0px 1px 0px rgba(0, 0, 0, 0.08) inset, 0px 2px 2px 0px rgba(0, 0, 0, 0.16) inset;\n}\n\n.error-fix-icon {\n  width: 16px;\n  height: 16px;\n  position: relative;\n  overflow: hidden;\n}\n\n.error-fix-icon-gradient {\n  width: 12.94px;\n  height: 13.34px;\n  left: 1.45px;\n  top: 1.6px;\n  position: absolute;\n  background: radial-gradient(ellipse 71.93% 69.94% at 0.36% 47.95%, #a259ff 1%, #ff597d 100%);\n}\n\n.error-fix-text {\n  color: #9b2e84;\n  font-size: 14px;\n  font-family: var(--inconsolata);\n  font-weight: 500;\n  line-height: 20px;\n  word-wrap: break-word;\n}\n\n.message {\n  white-space: pre-wrap;\n}\n\n.error-title pre {\n  margin: 0;\n  white-space: pre-wrap;\n  flex: 1 1 0;\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n  color: #b13325;\n  font-size: 14px;\n  font-family: var(--inconsolata);\n  font-weight: 700;\n  line-height: 20px;\n  word-wrap: break-word;\n}\n\n.error-content-text {\n  flex: 1 1 0;\n  align-self: stretch;\n  color: #000;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  word-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n  font-family: var(--inconsolata);\n}\n\n.error-trace-id-content-box {\n  width: 100%;\n  box-sizing: border-box;\n  padding-left: 12px;\n  padding-right: 12px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  border-radius: 6px;\n  outline: 1px var(--gray-alpha-alpha300, rgba(0, 0, 0, 0.20)) solid;\n  outline-offset: -1px;\n  justify-content: space-between;\n  align-items: center;\n  display: inline-flex;\n  cursor: pointer;\n}\n\n.error-trace-id-content-box:hover {\n  background-color: var(--gray-alpha-alpha100, rgb(241, 241, 241));\n}\n\n.error-trace-id-content-box:active:not(:disabled) > * {\n  transform: translateY(1px);\n}\n\n.error-trace-id-content {\n  flex: 1 1 0;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 6px;\n  display: flex;\n}\n\n.error-stack-trace-content-box {\n  background: var(--gray-alpha-alpha50, rgba(0, 0, 0, 0.03));\n  padding: 12px;\n  border-radius: 8px;\n  width: 100%;\n  box-sizing: border-box;\n  height: 100%;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 12px;\n  display: inline-flex;\n}\n\n.error-stack-trace-content {\n  flex: 1 1 0;\n  align-self: stretch;\n  color: var(--gray-gray600, #545454);\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  font-family: var(--inconsolata);\n}\n`;\n\nexport const Style = (overlayStyle: Pick<Overlay, \"style\">): string => {\n  const style: string[] = [];\n\n  switch (overlayStyle.style) {\n    case \"backendError\":\n    case \"rr7Frontend\":\n      style.push(`\nbody {\n  background: #515151;\n}`);\n      break;\n    case \"viteFrontend\":\n      style.push(`\n:host {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 99999;\n  --inconsolata: Gadget-Inconsolata-Private, sans-serif;\n      background: #515151;\n}`);\n      break;\n  }\n\n  return InconsolataFont + style.join(\"\\n\") + baseStyle;\n};\n\nconst getErrorMessage = (overlayStyle: Overlay) => {\n  let errorMessage = \"\";\n\n  switch (overlayStyle.style) {\n    case \"backendError\": {\n      errorMessage = `${overlayStyle.errorMessage}\\n\\nTrace ID: ${overlayStyle.traceId}`;\n      break;\n    }\n    case \"rr7Frontend\": {\n      errorMessage = `${overlayStyle.stackTrace}`;\n      break;\n    }\n    default: {\n      errorMessage = ``;\n      break;\n    }\n  }\n\n  return errorMessage.replaceAll(\"`\", \"\\\\`\");\n};\n\nexport const checkIfInGadgetIFrame = (): Promise<boolean> => {\n  return new Promise<boolean>((resolve) => {\n    const handleMessage = (event: MessageEvent) => {\n      if (event.data?.type === \"gadget:pong\") {\n        resolve(true);\n        window.removeEventListener(\"message\", handleMessage);\n      }\n    };\n\n    window.addEventListener(\"message\", handleMessage);\n\n    window.parent.postMessage({ type: \"gadget:ping\" }, \"*\");\n\n    setTimeout(() => {\n      resolve(false);\n      window.removeEventListener(\"message\", handleMessage);\n    }, 100);\n  });\n};\n\nexport const overlayTemplate = (overlay: Overlay) => {\n  const aiFixButton = /*html*/ `\n    <button class=\"error-fix-button\">\n      <img src=\"${FixIconUrl}\" alt=\"Fix icon\" width=\"16\" height=\"16\" />\n      <div class=\"error-fix-text\">Fix</div>\n    </button>`;\n\n  const getErrorTitleText = (overlayStyle: Overlay) => {\n    switch (overlayStyle.style) {\n      case \"backendError\":\n        return \"Unexpected server-side error\";\n      case \"viteFrontend\":\n        return \"Vite hot reload error\";\n      case \"rr7Frontend\":\n        return \"React router server-side rendering error\";\n      default:\n        return \"Unexpected error\";\n    }\n  };\n\n  const maybeGetTraceIdLinkComponent = (overlayStyle: Overlay) => {\n    if (overlayStyle.style !== \"backendError\") {\n      return \"\";\n    }\n\n    return /* html */ `\n      <div class=\"error-trace-id-content-box\">\n        <div class=\"error-trace-id-content\">\n            <div style=\"color: var(--gray-alpha-alpha600, rgba(0, 0, 0, 0.67)); font-size: 14px; font-weight: 500; line-height: 20px; word-wrap: break-word\">traceID: ${\n              overlayStyle.traceId\n            }</div>\n        </div>\n        <img src=\"${ChevronRightIconUrl}\" alt=\"Chevron right icon\" width=\"16\" height=\"16\" />\n      </div>\n      ${maybeGetErrorMessageComponent(overlayStyle)}`;\n  };\n\n  const maybeGetErrorMessageComponent = (overlayStyle: Overlay) => {\n    if (!(\"errorMessage\" in overlayStyle && overlayStyle.errorMessage)) {\n      return \"\";\n    }\n\n    return /* html */ `\n      <div class=\"error-stack-trace-content-box\">\n        <div class=\"error-content-text\">${overlayStyle.errorMessage}</div>\n        ${aiFixButton}\n      </div>`;\n  };\n\n  const maybeGetErrorDetailsContentComponent = (overlayStyle: Overlay) => {\n    if (overlayStyle.style !== \"viteFrontend\") {\n      return \"\";\n    }\n\n    return /* html */ `\n      <div class=\"error-stack-trace-content-box\">\n        <div class=\"error-details-content\">\n          <div id=\"error-message-file\" class=\"error-content-text\"></div>\n          <div id=\"error-message\" class=\"error-content-text\"></div>\n        </div>\n        ${aiFixButton}\n      </div>\n      `;\n  };\n\n  const copyButton = (textToCopy: string) => {\n    // TODO - Add this to the stack trace when we can reliably know that we have the permission to copy from the browser available\n    return /* html */ `\n      <button class=\"standard-button\" onclick=\"navigator.clipboard.writeText(\\`${textToCopy.replace(/'/g, \"\\\\'\")}\\`)\">\n        <img src=\"${CopyIconUrl}\" alt=\"Copy icon\" width=\"16\" height=\"16\" />\n      </button>`;\n  };\n\n  const maybeGetStackTraceComponent = (overlayStyle: Overlay) => {\n    if (overlayStyle.style !== \"rr7Frontend\") {\n      return \"\";\n    }\n\n    return /* html */ `\n      <div class=\"error-stack-trace-content-box\">\n        <div class=\"error-stack-trace-content\">${overlayStyle.stackTrace}</div>\n        ${aiFixButton}\n      </div>`;\n  };\n\n  return {\n    html: /* html */ `\n<style>${Style(overlay)}</style>\n\n<div class=\"window\">\n  <div class=\"error-overlay\">\n    <div class=\"error-container\">\n      <div class=\"error-content\">\n        <div class=\"error-header\">\n          <div class=\"error-title-row\">\n            <div class=\"error-icon-wrapper\">\n              <div class=\"error-icon\">\n              <img src=\"${ErrorIconUrl}\" alt=\"Error icon\" width=\"16\" height=\"16\" />\n              </div>\n            </div>\n            <div class=\"error-title\">\n              <pre id=\"plugin-message\">${getErrorTitleText(overlay)}</pre>\n            </div>\n          </div>\n        </div>\n\n        ${maybeGetTraceIdLinkComponent(overlay)}\n        ${maybeGetErrorDetailsContentComponent(overlay)}\n        ${maybeGetStackTraceComponent(overlay)}\n\n\n      </div>\n    </div>\n  </div>\n</div>`,\n    javascript: /* js */ `\n    const checkIfInGadgetIFrame = () => {\n      return new Promise((resolve) => {\n        const handleMessage = (event) => {\n          if (event.data?.type === \"gadget:pong\") {\n            resolve(true);\n            window.removeEventListener(\"message\", handleMessage);\n          }\n        };\n\n        window.addEventListener(\"message\", handleMessage);\n\n        window.parent.postMessage({ type: \"gadget:ping\" }, \"*\");\n\n        setTimeout(() => {\n          resolve(false);\n          window.removeEventListener(\"message\", handleMessage);\n        }, 100);\n      });\n    };\n\n    window?.parent?.postMessage({\n      type: \"gadget:error-overlay-shown\",\n      overlay: ${JSON.stringify(overlay)},\n    }, \"*\");\n\n    ${\n      overlay.style !== \"viteFrontend\"\n        ? `\n  console.debug(\"[Gadget-Error-Overlay] Rendering error overlay\");\n\n  const errorMessage = \\`${getErrorMessage(overlay)}\\`;\n\n  const fixButton = document.querySelector(\".error-fix-button\");\n  if (fixButton) {\n    console.debug(\"[Gadget-Error-Overlay] Fix button found attaching event listener\");\n    const prompt = \"Fix the following error:\\\\n\\\\n\" + errorMessage;\n\n    fixButton.addEventListener(\"click\", () => {\n\n      // Use the check\n      checkIfInGadgetIFrame().then((isInGadgetIFrame) => {\n        if (isInGadgetIFrame) {\n          console.debug(\"[Gadget-Error-Overlay] Opening error from iframe\");\n          window.parent.postMessage({ type: \"gadget:prompt\", prompt }, \"*\");\n        } else {\n          console.debug(\"[Gadget-Error-Overlay] Opening error in new tab\");\n          fetch(window.location.origin + \"/api/zprompt\", {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ prompt })\n          })\n            .then(response => response.json())\n            .then(payload => {\n              window.open(\n                window.location.origin + \"/edit?promptId=\" + encodeURIComponent(payload.id),\n                window.self === window.top ? \"_top\" : \"_blank\"\n              );\n            })\n            .catch(error => {\n              console.error(\"[Gadget-Error-Overlay] Error sending prompt:\", error);\n            });\n        }\n      }).catch((err) => {\n        console.error(\"[Gadget-Error-Overlay] Error firing fix button event\", err);\n      });\n    });\n  } else {\n    console.error(\"[Gadget-Error-Overlay] Fix button not found\");\n  }\n\n  ${\n    overlay.style === \"backendError\"\n      ? /* html */ `\n  const traceIdButton = document.querySelector(\".error-trace-id-content-box\");\n  if (traceIdButton) {\n    traceIdButton.addEventListener(\"click\", () => {\n      checkIfInGadgetIFrame().then((isInGadgetIFrame) => {\n        if (isInGadgetIFrame) {\n          console.debug(\"[Gadget-Error-Overlay] Sending open logs message from iframe\");\n          window.parent.postMessage({ type: \"gadget:openLogs\", traceId: \"${overlay.traceId}\" }, \"*\");\n        } else {\n          console.debug(\"[Gadget-Error-Overlay] Opening trace ID log link\");\n          window.open(\\`${overlay.traceIdLogLink}\\`, window.self === window.top ? \"_top\" : \"_blank\"); // open in top if in iframe, otherwise open in new tab\n        }\n      }).catch((err) => {\n        console.error(\"[Gadget-Error-Overlay] Error opening trace ID log link\", err);\n      });\n    });\n  } else {\n    console.error(\"[Gadget-Error-Overlay] Trace ID button not found\");\n  }\n  `\n      : \"\"\n  }`\n        : \"\"\n    }\n\n    `,\n  };\n};\n\ndeclare const currentEnvironment: string;\n// Make HTMLElement available in non-browser environments\nconst { HTMLElement = class {} as typeof globalThis.HTMLElement } = globalThis;\nclass ErrorOverlay extends HTMLElement {\n  root: ShadowRoot;\n\n  constructor(err: any) {\n    super();\n    this.root = this.attachShadow({ mode: \"open\" });\n    this.root.innerHTML = overlayTemplate({ style: \"viteFrontend\" }).html;\n    this.dir = \"ltr\";\n\n    const errorLine = err.loc?.line;\n    const errorColumn = err.loc?.column;\n\n    const [file] = (err.loc?.file || err.id || \"unknown\").split(`?`);\n    let fileText;\n    if (err.loc) {\n      fileText = `${file}:${errorLine}:${errorColumn}`;\n    } else if (err.id) {\n      fileText = file;\n    } else {\n      fileText = \"unknown\";\n    }\n\n    let fileLink: HTMLDivElement | null = null;\n    const gadgetFolderMatch = file.match(/\\/(web|api)\\/(.+)/);\n    if (gadgetFolderMatch) {\n      const filePathForLink = gadgetFolderMatch ? `${gadgetFolderMatch[1]}/${gadgetFolderMatch[2]}` : file;\n\n      const locationQueryParam =\n        errorLine !== undefined && errorColumn !== undefined ? `?startLineNumber=${errorLine}&startColumn=${errorColumn}&force=1` : \"\";\n\n      if (window.self !== window.top) {\n        const filePathButton = this.root.querySelector(\".error-file-path\");\n        if (filePathButton) {\n          filePathButton.addEventListener(\"click\", () => {\n            checkIfInGadgetIFrame()\n              .then((isInGadgetIFrame) => {\n                if (isInGadgetIFrame) {\n                  window.parent.postMessage({ type: \"gadget:openFile\", filePath: filePathForLink }, \"*\");\n                } else {\n                  window.open(\n                    `${window.location.origin}/edit/${currentEnvironment}/files/${filePathForLink}${locationQueryParam}`,\n                    window.self === window.top ? \"_top\" : \"_blank\"\n                  );\n                }\n              })\n              .catch((err) => {\n                console.error(\"[Gadget-Error-Overlay] Error opening file\", err);\n              });\n          });\n        }\n      } else {\n        fileLink = this.createLink(\n          `${fileText}`,\n          `${window.location.origin}/edit/${currentEnvironment}/files/${filePathForLink}${locationQueryParam}`\n        );\n      }\n    }\n\n    const errorMessage = err.message.trim();\n    this.text(\"#error-message\", errorMessage);\n    this.text(\"#error-message-file\", fileLink?.innerHTML ?? fileText, true);\n\n    const fixButton = this.root.querySelector(\".error-fix-button\");\n    if (fixButton) {\n      fixButton.addEventListener(\"click\", () => {\n        checkIfInGadgetIFrame()\n          .then((isInGadgetIFrame) => {\n            if (isInGadgetIFrame) {\n              window.parent.postMessage({ type: \"gadget:prompt\", prompt: err.message }, \"*\");\n            } else {\n              fetch(window.location.origin + \"/api/zprompt\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ prompt: `Fix the following error:\\n\\n${err.message}` }),\n              })\n                .then((response) => response.json())\n                .then((payload) => {\n                  window.open(`${window.location.origin}/edit?promptId=${payload.id}`, window.self === window.top ? \"_top\" : \"_blank\");\n                })\n                .catch((error) => {\n                  console.error(\"[Gadget-Error-Overlay] Error sending prompt:\", error);\n                });\n            }\n          })\n          .catch((err) => {\n            console.error(\"[Gadget-Error-Overlay] Error firing fix button event\", err);\n          });\n      });\n    } else {\n      console.error(\"fix button not found\");\n    }\n  }\n\n  text(selector: string, text: string | undefined, html = false): void {\n    if (!text) {\n      return;\n    }\n\n    const el = this.root.querySelector(selector);\n\n    if (!el) {\n      return;\n    }\n\n    if (html) {\n      // Automatically detect links\n      text = text\n        .split(\" \")\n        .map((v) => {\n          if (!v.startsWith(\"https://\")) return v;\n          if (v.endsWith(\".\")) return `<a target=\"_blank\" href=\"${v.slice(0, -1)}\">${v.slice(0, -1)}</a>.`;\n          return `<a target=\"_blank\" href=\"${v}\">${v}</a>`;\n        })\n        .join(\" \");\n\n      el.innerHTML = text.trim();\n    } else {\n      el.textContent = text.trim();\n    }\n  }\n\n  createLink(text: string, href: string | undefined): HTMLDivElement {\n    const linkContainer = document.createElement(\"div\");\n    const linkElement = href ? document.createElement(\"a\") : document.createElement(\"button\");\n    linkElement.innerHTML = text;\n\n    if (href && linkElement instanceof HTMLAnchorElement) {\n      linkElement.href = href;\n      linkElement.target = \"_blank\";\n    }\n\n    linkContainer.appendChild(linkElement);\n    linkContainer.className = \"link\";\n\n    return linkContainer;\n  }\n\n  close(): void {\n    this.parentNode?.removeChild(this);\n  }\n}\n\nfunction getOverlayCode(environment: string) {\n  return `\n    const baseStyle = \\`${baseStyle}\\`;\n    const ChevronRightIconUrl = \"${ChevronRightIconUrl}\";\n    const ErrorIconUrl = \"${ErrorIconUrl}\";\n    const FixIconUrl = \"${FixIconUrl}\";\n    const InconsolataFont = \\`${InconsolataFont}\\`;\n    const getErrorMessage = ${getErrorMessage};\n    const Style = ${Style};\n\t\tconst overlayTemplate = ${overlayTemplate};\n    const currentEnvironment = \"${environment}\";\n    const checkIfInGadgetIFrame = ${checkIfInGadgetIFrame};\n\t\t${ErrorOverlay.toString()}\n\t`;\n}\n\nexport function patchOverlay(code: string, environment: string): string {\n  let result = code.replace(\"class ErrorOverlay\", getOverlayCode(environment) + \"\\nclass ViteErrorOverlay\");\n  result = result.replace('_define_property()._(this, \"root\", void 0);', \"\");\n\n  return result;\n}\n"],"names":["ChevronRightIconUrl","CopyIconUrl","ErrorIconUrl","FixIconUrl","InconsolataFont","Style","checkIfInGadgetIFrame","overlayTemplate","patchOverlay","btoa","baseStyle","overlayStyle","style","push","join","getErrorMessage","errorMessage","traceId","stackTrace","replaceAll","Promise","resolve","handleMessage","event","data","type","window","removeEventListener","addEventListener","parent","postMessage","setTimeout","overlay","aiFixButton","getErrorTitleText","maybeGetTraceIdLinkComponent","maybeGetErrorMessageComponent","maybeGetErrorDetailsContentComponent","copyButton","textToCopy","replace","maybeGetStackTraceComponent","html","javascript","JSON","stringify","traceIdLogLink","HTMLElement","globalThis","ErrorOverlay","root","constructor","err","attachShadow","mode","innerHTML","dir","errorLine","loc","line","errorColumn","column","file","id","split","fileText","fileLink","gadgetFolderMatch","match","filePathForLink","locationQueryParam","undefined","self","top","filePathButton","querySelector","then","isInGadgetIFrame","filePath","open","location","origin","currentEnvironment","catch","console","error","createLink","message","trim","text","fixButton","prompt","fetch","method","headers","body","response","json","payload","selector","el","map","v","startsWith","endsWith","slice","textContent","href","linkContainer","document","createElement","linkElement","HTMLAnchorElement","target","appendChild","className","close","parentNode","removeChild","getOverlayCode","environment","toString","code","result"],"mappings":"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"}